(function(){
function f(){return function(e){function c(b){if(d[b])return d[b].a;var a=d[b]={a:{},id:b,loaded:!1};e[b].call(a.a,a,a.a,c);a.loaded=!0;return a.a}var d={};c.h=e;c.g=d;c.p="";return c(0)}([function(e,c,d){e.a={version:"0.0.1",core:d(1),dom:d(3),store:d(4)}},function(e,c,d){function b(){if(this.components)for(var a=0;a<this.components.length;a++)this.components[a].name&&!this.c[this.components[a].name]&&(this.c[this.components[a].name]=this.components[a])}function a(a){this.listeners={};this.$={};
a&&this.mix(a);"function"===typeof this.init&&this.init.call(this);b.call(this);this.notify("created",{})}var k=d(2);a.prototype.listen=function(a,b){this.listeners[a]=this.listeners[a]||[];this.listeners[a].push(b)};a.prototype.notify=function(a){if(this.listeners[a])for(var b=0;b<this.listeners[a].length;b++)this.listeners[a][b].call(this,this)};a.prototype.hasComponents=function(){return this.components&&0<this.components.length};a.prototype.extend=function(a){a=k(this,a);"function"===typeof a.init&&
a.init.call(a);b.call(a);a.notify("created",{});return a};a.prototype.mix=function(a){for(var b in a)this[b]=a[b]};a.prototype.renderTemplate=function(){if(this.template){if("function"===typeof this.template)return this.template(this);if("string"===typeof this.template)return this.i(this.template),this.template(this)}};a.prototype.parseTemplate=function(a){this.template=new Function("data","var p=[],print=function(){p.push.apply(p,arguments);};p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,
"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');return p.join('');")};e.a=a},function(e){e.a=function(c,d){var b={},a;for(a in c)b[a]=c[a];for(a in d)b[a]=d[a],"function"===typeof c[a]&&(b[a].l=c[a]);return b}},function(e,c,d){function b(a){var b=null;return function(){var c=this,d=arguments;clearTimeout(b);b=setTimeout(function(){a.apply(c,d)},60)}}c=d(1);e.a=new c({tag:"div",init:function(){this.node=document.createElement(this.tag);
this.update=b(this.update)},update:function(a){this.mix(a);this.render();this.notify("updated",{})},render:function(){this.hasComponents()?this.renderComponents():this.renderContent();this.notify("rendered",{})},renderContent:function(){!this.template&&this.content?window.requestAnimationFrame(function(){this.node.innerHTML=this.content}.bind(this)):window.requestAnimationFrame(function(){var a=this.renderTemplate();this.node.innerHTML=a}.bind(this))},renderComponents:function(){for(var a=0;a<this.components.length;a++)this.components[a].render&&
(this.components[a].render(),this.components[a].attach(this.node))},attach:function(a){a.appendChild(this.node);this.wireEvents();this.notify("attached",{})},detach:function(){this.wireEvents(!0);this.node.parentNode.removeChild(this.node)},wireEvents:function(a){if(this.b&&"object"===typeof this.b&&!1===this.b instanceof Array)for(var b in this.b)this.b.hasOwnProperty(b)&&(a?this.node.removeEventListener(b,this.event,!1):this.node.addEventListener(b,this.b[b]))}})},function(e,c,d){c=d(1);e.a=new c({name:"store",
viewstate:{},collection:[],reducers:[],reducer:function(b){this.j.push(function(a,c){return b.call(this,{viewstate:a,collection:c})})},reduce:function(b){for(var a,c=0;c<this.reducers.length;c++)"undefined"===typeof a?(b.viewstate=b.viewstate||{},b.collection=b.collection||[],a=this.reducers[c].call(this,b.viewstate,b.collection)):a=this.reducers[c].call(this,a.viewstate,a.collection);this.mix(a)},update:function(b){0<this.reducers.length?this.reduce(b):this.mix(b);this.notify("updated",this)}})}])}
if("object"===typeof exports&&"object"===typeof module)module.a=f();else if("function"===typeof define&&define.f)define([],f);else{var g=f(),h;for(h in g)("object"===typeof exports?exports:this)[h]=g[h]};
 if("undefined"===typeof define) window.yooj = f()}).call(this)
